<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Business Expense Tracker</title>
    <link rel="stylesheet" href="styles.css?v=20250118">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/brands.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <h1><i class="fas fa-calculator"></i> Business Tracker</h1>
                <div class="user-info" id="user-info">
                    <span class="user-name" id="user-name">Loading...</span>
                    <span class="user-role" id="user-role"></span>
                </div>
            </div>
            <div class="header-stats">
                <span id="monthly-total">¬£0.00</span>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-tab="dashboard">
                <i class="fas fa-chart-line"></i>
                <span>Dashboard</span>
            </button>
            <button class="nav-btn" data-tab="all-transactions">
                <i class="fas fa-list"></i>
                <span>Transactions</span>
            </button>
            <button class="nav-btn" data-tab="receipts">
                <i class="fas fa-camera"></i>
                <span>Receipts</span>
            </button>
            <button class="nav-btn" data-tab="settings">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </button>
            <button class="nav-btn" data-tab="export">
                <i class="fas fa-download"></i>
                <span>Export</span>
            </button>
            <button class="nav-btn" data-tab="profile">
                <i class="fas fa-user"></i>
                <span>Profile</span>
            </button>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Tab -->
            <div class="tab-content active" id="dashboard">
                <div class="stats-grid">
                    <div class="stat-card income">
                        <div class="stat-icon">
                            <i class="fas fa-arrow-up"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Total Income</h3>
                            <p id="total-income">¬£0.00</p>
                        </div>
                    </div>
                    <div class="stat-card expenses">
                        <div class="stat-icon">
                            <i class="fas fa-arrow-down"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Total Expenses</h3>
                            <p id="total-expenses">¬£0.00</p>
                        </div>
                    </div>
                    <div class="stat-card profit">
                        <div class="stat-icon">
                            <i class="fas fa-pound-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Net Profit</h3>
                            <p id="net-profit">¬£0.00</p>
                        </div>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>Monthly Overview</h3>
                    <canvas id="monthlyChart"></canvas>
                </div>

                <div class="recent-transactions">
                    <div class="section-header">
                        <h3>Recent Transactions</h3>
                        <div class="section-actions">
                            <button class="btn-icon" id="search-transactions" title="Search Transactions">
                                <i class="fas fa-search"></i>
                            </button>
                            <button class="btn-icon" id="share-dashboard" title="Share Dashboard">
                                <i class="fas fa-share-alt"></i>
                            </button>
                            <button class="btn-icon" id="toggle-recent-selection" title="Select Multiple">
                                <i class="fas fa-check-square"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="bulk-actions" id="recent-bulk-actions" style="display: none;">
                        <div class="bulk-controls">
                            <button class="btn-secondary" id="select-all-recent">
                                <i class="fas fa-check-double"></i> Select All
                            </button>
                            <button class="btn-secondary" id="clear-selection-recent">
                                <i class="fas fa-times"></i> Clear Selection
                            </button>
                            <span class="selection-count" id="recent-selection-count">0 selected</span>
                        </div>
                        <div class="bulk-action-buttons">
                            <button class="btn-warning" id="bulk-edit-recent">
                                <i class="fas fa-edit"></i> Edit Selected
                            </button>
                            <button class="btn-danger" id="bulk-delete-recent">
                                <i class="fas fa-trash"></i> Delete Selected
                            </button>
                        </div>
                    </div>
                    
                    <div id="recent-list">
                        <p class="no-data">No transactions yet. Start by adding some entries!</p>
                    </div>
                </div>
            </div>

            <!-- All Transactions Tab -->
            <div class="tab-content" id="all-transactions">
                <div class="transactions-management">
                    <div class="section-header">
                        <h2>Transactions</h2>
                    </div>
                    
                    <div class="section-actions">
                        <button class="btn-icon primary" id="all-add-transaction-btn" title="Add Transaction">
                            <i class="fas fa-plus"></i>
                        </button>
                        <button class="btn-icon" id="all-camera-btn" title="Take Receipt Photo">
                            <i class="fas fa-camera"></i>
                        </button>
                        <button class="btn-icon" id="filter-all-transactions" title="Filter Transactions">
                            <i class="fas fa-filter"></i>
                        </button>
                        <button class="btn-icon" id="backup-all-data" title="Backup Data">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </button>
                        <button class="btn-icon" id="toggle-all-selection" title="Select Multiple">
                            <i class="fas fa-check-square"></i>
                        </button>
                    </div>
                    
                    <div class="bulk-actions" id="all-bulk-actions" style="display: none;">
                        <div class="bulk-controls">
                            <button class="btn-secondary" id="select-all-all">
                                <i class="fas fa-check-double"></i> Select All
                            </button>
                            <button class="btn-secondary" id="clear-selection-all">
                                <i class="fas fa-times"></i> Clear Selection
                            </button>
                            <span class="selection-count" id="all-selection-count">0 selected</span>
                        </div>
                        <div class="bulk-action-buttons">
                            <button class="btn-warning" id="bulk-edit-all">
                                <i class="fas fa-edit"></i> Edit Selected
                            </button>
                            <button class="btn-danger" id="bulk-delete-all">
                                <i class="fas fa-trash"></i> Delete Selected
                            </button>
                        </div>
                    </div>
                    
                    <div class="filter-bar" id="all-filter-bar" style="display: none;">
                        <div class="filter-inputs">
                            <select id="all-filter-type">
                                <option value="">All Types</option>
                                <option value="income">Income</option>
                                <option value="expense">Expense</option>
                            </select>
                            <select id="all-filter-category">
                                <option value="">All Categories</option>
                            </select>
                            <input type="text" id="all-filter-search" placeholder="Search description...">
                            <button class="btn-secondary" id="clear-all-filters">Clear</button>
                        </div>
                    </div>
                    
                    <div class="stats-summary-box">
                        <div class="summary-item">
                            <span class="summary-label">Total:</span>
                            <span class="summary-value" id="total-transactions-count">0</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">With Images:</span>
                            <span class="summary-value" id="transactions-with-images">0</span>
                        </div>
                    </div>
                    
                    <!-- Receipt Upload Section -->
                    <div class="receipt-upload" id="all-receipt-upload" style="display: none;">
                        <h3>Take Receipt Photo</h3>
                        <div class="upload-area" id="all-upload-area">
                            <i class="fas fa-camera"></i>
                            <p>Tap to take photo or upload receipt</p>
                            <input type="file" id="all-receipt-input" accept="image/*" capture="environment" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer;">
                        </div>
                        
                        <div class="receipt-form" id="all-receipt-form" style="display: none;">
                            <div class="form-group">
                                <label for="all-receipt-amount">Amount (¬£)</label>
                                <input type="number" id="all-receipt-amount" step="0.01" placeholder="0.00" required>
                            </div>
                            <div class="form-group">
                                <label for="all-receipt-category">Category</label>
                                <select id="all-receipt-category" required>
                                    <option value="">Select category</option>
                                    <option value="office-supplies">Office Supplies</option>
                                    <option value="travel">Travel & Transport</option>
                                    <option value="meals">Meals & Entertainment</option>
                                    <option value="utilities">Utilities</option>
                                    <option value="marketing">Marketing</option>
                                    <option value="professional-services">Professional Services</option>
                                    <option value="equipment">Equipment</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="all-receipt-description">Description</label>
                                <input type="text" id="all-receipt-description" placeholder="Brief description">
                            </div>
                            <div class="form-group">
                                <label for="all-receipt-date">Date</label>
                                <input type="date" id="all-receipt-date" required>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn-secondary" id="all-cancel-receipt">Cancel</button>
                                <button type="button" class="btn-primary" id="all-save-receipt">Save Receipt</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Add Transaction Section -->
                    <div class="transaction-form-section" id="all-transaction-form-section" style="display: none;">
                        <h3>Add Transaction</h3>
                        <form id="all-transaction-form" class="transaction-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="all-transaction-type">Type</label>
                                    <div class="type-buttons">
                                        <button type="button" class="type-btn active" data-type="expense">Expense</button>
                                        <button type="button" class="type-btn" data-type="income">Income</button>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="all-transaction-amount">Amount (¬£)</label>
                                    <input type="number" id="all-transaction-amount" step="0.01" placeholder="0.00" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="all-transaction-category">Category</label>
                                    <select id="all-transaction-category" required>
                                        <option value="">Select category</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="all-transaction-payment-method">Payment Method</label>
                                    <select id="all-transaction-payment-method">
                                        <option value="card">üí≥ Card</option>
                                        <option value="cash">üíµ Cash</option>
                                        <option value="bank-transfer">üè¶ Bank Transfer</option>
                                        <option value="cheque">üìù Cheque</option>
                                        <option value="other">üîÑ Other</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="all-transaction-description">Description</label>
                                <input type="text" id="all-transaction-description" placeholder="Transaction description" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="all-transaction-date">Date</label>
                                <input type="date" id="all-transaction-date" required>
                            </div>
                            
                            <div class="form-actions">
                                <button type="button" class="btn-secondary" id="all-cancel-transaction">Cancel</button>
                                <button type="submit" class="btn-primary">Add Transaction</button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="all-transactions-list">
                        <div id="all-transactions-container">
                            <p class="no-data">No transactions added yet.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Receipts Tab -->
            <div class="tab-content" id="receipts">
                <div class="receipt-upload">
                    <h2>Upload Receipt</h2>
                    <div class="upload-area" id="upload-area">
                        <i class="fas fa-camera"></i>
                        <p>Tap to take photo or upload receipt</p>
                        <input type="file" id="receipt-input" accept="image/*" capture="environment" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer;">
                    </div>
                    
                    <div class="receipt-form" id="receipt-form" style="display: none;">
                        <div class="form-group">
                            <label for="receipt-amount">Amount (¬£)</label>
                            <input type="number" id="receipt-amount" step="0.01" placeholder="0.00" required>
                        </div>
                        <div class="form-group">
                            <label for="receipt-category">Category</label>
                            <select id="receipt-category" required>
                                <option value="">Select category</option>
                                <option value="office-supplies">Office Supplies</option>
                                <option value="travel">Travel & Transport</option>
                                <option value="meals">Meals & Entertainment</option>
                                <option value="utilities">Utilities</option>
                                <option value="marketing">Marketing</option>
                                <option value="professional-services">Professional Services</option>
                                <option value="equipment">Equipment</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="receipt-description">Description</label>
                            <input type="text" id="receipt-description" placeholder="Brief description">
                        </div>
                        <div class="form-group">
                            <label for="receipt-date">Date</label>
                            <input type="date" id="receipt-date" required>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-secondary" id="cancel-receipt">Cancel</button>
                            <button type="button" class="btn-primary" id="save-receipt">Save Receipt</button>
                        </div>
                    </div>
                </div>

                <div class="receipts-list">
                    <h3>Saved Receipts</h3>
                    <div id="receipts-container">
                        <p class="no-data">No receipts uploaded yet.</p>
                    </div>
                </div>
            </div>

            <!-- Transactions Tab -->
            <div class="tab-content" id="transactions">
                <div class="transaction-form">
                    <h2>Add Transaction</h2>
                    
                    <div class="transaction-type-toggle">
                        <button class="type-btn active" data-type="expense">
                            <i class="fas fa-minus"></i> Expense
                        </button>
                        <button class="type-btn" data-type="income">
                            <i class="fas fa-plus"></i> Income
                        </button>
                    </div>

                    <form id="transaction-form">
                        <div class="form-group">
                            <label for="trans-amount">Amount (¬£)</label>
                            <input type="number" id="trans-amount" step="0.01" placeholder="0.00" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="trans-category">Category</label>
                            <select id="trans-category" required>
                                <!-- Options will be populated by JavaScript -->
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="trans-description">Description</label>
                            <input type="text" id="trans-description" placeholder="Brief description" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="trans-date">Date</label>
                            <input type="date" id="trans-date" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="trans-payment-method">Payment Method</label>
                            <select id="trans-payment-method">
                                <option value="cash">Cash</option>
                                <option value="card">Debit/Credit Card</option>
                                <option value="bank-transfer">Bank Transfer</option>
                                <option value="cheque">Cheque</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn-primary btn-full">
                            <i class="fas fa-save"></i> Save Transaction
                        </button>
                    </form>
                </div>

                <!-- All Transactions moved to dedicated tab -->
            </div>

            <!-- Settings Tab -->
            <div class="tab-content" id="settings">
                <div class="settings-container">
                    <div class="section-header">
                        <h2>Settings</h2>
                        <p class="section-description">Manage your application preferences and categories</p>
                    </div>
                    
                    <!-- Category Management -->
                    <div class="settings-section">
                        <h3>Category Management</h3>
                        <p class="section-description">Create and manage custom categories for your transactions</p>
                        
                        <!-- Income Categories -->
                        <div class="category-group">
                            <h4>Income Categories</h4>
                            <div class="category-list" id="income-categories-list">
                                <!-- Categories will be populated by JavaScript -->
                            </div>
                            <div class="add-category-form">
                                <input type="text" id="new-income-category" placeholder="Enter new income category" maxlength="50">
                                <button class="btn-primary" id="add-income-category">
                                    <i class="fas fa-plus"></i> Add Category
                                </button>
                            </div>
                        </div>
                        
                        <!-- Expense Categories -->
                        <div class="category-group">
                            <h4>Expense Categories</h4>
                            <div class="category-list" id="expense-categories-list">
                                <!-- Categories will be populated by JavaScript -->
                            </div>
                            <div class="add-category-form">
                                <input type="text" id="new-expense-category" placeholder="Enter new expense category" maxlength="50">
                                <button class="btn-primary" id="add-expense-category">
                                    <i class="fas fa-plus"></i> Add Category
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- App Settings -->
                    <div class="settings-section">
                        <h3>Application Settings</h3>
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Dark Mode</h4>
                                <p>Toggle between light and dark theme</p>
                            </div>
                            <div class="setting-control">
                                <label class="toggle-switch">
                                    <input type="checkbox" id="dark-mode-toggle">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Currency Symbol</h4>
                                <p>Set your preferred currency symbol</p>
                            </div>
                            <div class="setting-control">
                                <select id="currency-symbol">
                                    <option value="¬£">¬£ (Pound)</option>
                                    <option value="$">$ (Dollar)</option>
                                    <option value="‚Ç¨">‚Ç¨ (Euro)</option>
                                    <option value="¬•">¬• (Yen)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Data Management -->
                    <div class="settings-section">
                        <h3>Data Management</h3>
                        <div class="setting-actions">
                            <button class="btn-secondary" id="export-settings-data">
                                <i class="fas fa-download"></i> Export Settings
                            </button>
                            <button class="btn-secondary" id="import-settings-data">
                                <i class="fas fa-upload"></i> Import Settings
                            </button>
                            <button class="btn-danger" id="reset-settings">
                                <i class="fas fa-trash"></i> Reset All Settings
                            </button>
                            <button class="btn-secondary" id="logout-btn">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Export Tab -->
            <div class="tab-content" id="export">
                <div class="export-section">
                    <h2>Export Data</h2>
                    <p>Share your financial data with your accountant</p>
                    
                    <div class="export-options">
                        <div class="export-card">
                            <i class="fas fa-file-csv"></i>
                            <h3>CSV Export</h3>
                            <p>Download all transactions as CSV file</p>
                            <button class="btn-primary" id="export-csv">
                                <i class="fas fa-download"></i> Download CSV
                            </button>
                        </div>
                        
                        <div class="export-card">
                            <i class="fas fa-file-pdf"></i>
                            <h3>Summary Report</h3>
                            <p>Generate a summary report with totals</p>
                            <button class="btn-primary" id="export-summary">
                                <i class="fas fa-file-alt"></i> Generate Report
                            </button>
                        </div>
                        
                        <div class="export-card">
                            <i class="fas fa-share"></i>
                            <h3>Share Receipts</h3>
                            <p>Create a zip file of all receipt images</p>
                            <button class="btn-primary" id="share-receipts">
                                <i class="fas fa-images"></i> Package Receipts
                            </button>
                        </div>
                    </div>

                    <div class="date-filter">
                        <h3>Filter by Date Range</h3>
                        <div class="date-inputs">
                            <div class="form-group">
                                <label for="export-from">From Date</label>
                                <input type="date" id="export-from">
                            </div>
                            <div class="form-group">
                                <label for="export-to">To Date</label>
                                <input type="date" id="export-to">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Tab -->
            <div class="tab-content" id="profile">
                <div class="profile-section">
                    <h2>User Profile</h2>
                    
                    <div class="profile-info">
                        <div class="profile-card">
                            <div class="profile-avatar">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <div class="profile-details">
                                <h3 id="profile-name">Loading...</h3>
                                <p id="profile-email">Loading...</p>
                                <span class="profile-role" id="profile-role">Loading...</span>
                            </div>
                        </div>
                        
                        <div class="profile-stats">
                            <div class="stat-item">
                                <span class="stat-label">Total Transactions</span>
                                <span class="stat-value" id="profile-transactions-count">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Total Receipts</span>
                                <span class="stat-value" id="profile-receipts-count">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Account Created</span>
                                <span class="stat-value" id="profile-created-date">Loading...</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-actions">
                        <h3>Account Actions</h3>
                        <div class="action-buttons">
                            <button class="btn-secondary" id="change-password-btn">
                                <i class="fas fa-key"></i> Change Password
                            </button>
                            <button class="btn-secondary" id="export-profile-data">
                                <i class="fas fa-download"></i> Export My Data
                            </button>
                            <button class="btn-secondary" id="logout-profile-btn">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </button>
                            <button class="btn-danger" id="delete-profile-btn">
                                <i class="fas fa-trash"></i> Delete Account
                            </button>
                        </div>
                    </div>
                    
                    <div class="sharing-section" id="sharing-section">
                        <h3>Data Sharing</h3>
                        <p>Share your data with other users</p>
                        
                        <div class="share-form">
                            <div class="form-group">
                                <label for="share-email">User Email</label>
                                <input type="email" id="share-email" placeholder="Enter user's email">
                            </div>
                            <div class="form-group">
                                <label for="share-type">Data Type</label>
                                <select id="share-type">
                                    <option value="transactions">Transactions Only</option>
                                    <option value="receipts">Receipts Only</option>
                                    <option value="all">All Data</option>
                                </select>
                            </div>
                            <button class="btn-primary" id="share-data-btn">
                                <i class="fas fa-share"></i> Share Data
                            </button>
                        </div>
                        
                        <div class="shared-with" id="shared-with">
                            <h4>Shared With</h4>
                            <div id="shared-users-list">
                                <!-- Shared users will be listed here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container"></div>

    <!-- Search Modal -->
    <div class="modal" id="search-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Search Transactions</h3>
                <button class="modal-close" id="close-search-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <input type="text" id="search-input" placeholder="Search by description, amount, or category...">
                </div>
                <div id="search-results">
                    <p class="no-data">Start typing to search transactions...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Backup/Restore Modal -->
    <div class="modal" id="backup-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Data Backup & Restore</h3>
                <button class="modal-close" id="close-backup-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="backup-options">
                    <div class="backup-card">
                        <i class="fas fa-download"></i>
                        <h4>Backup Data</h4>
                        <p>Download all your data as a backup file</p>
                        <button class="btn-primary" id="download-backup">
                            <i class="fas fa-download"></i> Download Backup
                        </button>
                    </div>
                    <div class="backup-card">
                        <i class="fas fa-upload"></i>
                        <h4>Restore Data</h4>
                        <p>Upload a backup file to restore your data</p>
                        <input type="file" id="restore-input" accept=".json" style="display: none;">
                        <button class="btn-secondary" id="upload-backup">
                            <i class="fas fa-upload"></i> Upload Backup
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="modal" id="share-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Share Dashboard</h3>
                <button class="modal-close" id="close-share-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="share-options">
                    <button class="btn-primary share-option" id="share-summary">
                        <i class="fas fa-chart-bar"></i>
                        <span>Share Summary</span>
                    </button>
                    <button class="btn-primary share-option" id="share-transactions">
                        <i class="fas fa-list"></i>
                        <span>Share Transactions</span>
                    </button>
                    <button class="btn-primary share-option" id="share-receipts-modal">
                        <i class="fas fa-camera"></i>
                        <span>Share Receipts</span>
                    </button>
                    <button class="btn-primary share-option" id="share-url">
                        <i class="fas fa-link"></i>
                        <span>Copy App URL</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Transaction Details Modal -->
    <div class="modal" id="transaction-details-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Transaction Details</h3>
                <button class="modal-close" id="close-transaction-details">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="transaction-details-content">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Bulk Edit Modal -->
    <div class="modal" id="bulk-edit-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Selected Transactions</h3>
                <button class="modal-close" id="close-bulk-edit-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="bulk-edit-info">
                    <p><strong id="bulk-edit-count">0</strong> transactions selected for editing</p>
                </div>
                <form id="bulk-edit-form">
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="bulk-edit-type-checkbox"> Update Type
                        </label>
                        <select id="bulk-edit-type" disabled>
                            <option value="income">Income</option>
                            <option value="expense">Expense</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="bulk-edit-category-checkbox"> Update Category
                        </label>
                        <select id="bulk-edit-category" disabled>
                            <option value="">Select Category</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="bulk-edit-date-checkbox"> Update Date
                        </label>
                        <input type="date" id="bulk-edit-date" disabled>
                    </div>
                    <div class="bulk-edit-actions">
                        <button type="button" class="btn-secondary" id="cancel-bulk-edit">Cancel</button>
                        <button type="submit" class="btn-primary">Apply Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="firebase-simple.js"></script>
    <script src="app.js"></script>
</body>
</html>
